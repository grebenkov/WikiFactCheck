# WikiFactCheck

## Описание проекта

WikiFactCheck - это инструмент для автоматической проверки достоверности информации в текстах статей на основе исходных источников. Программа использует API OpenAI для анализа текста и определения вероятности соответствия каждого слова в статье предоставленным источникам информации.

## Функциональность

На данный момент это только **PROOF OF CONCEPT** (доказательство осуществимости).

- Разбивает статью на смысловые блоки для более эффективного анализа
- Проверяет каждый блок текста на соответствие всем доступным источникам
- Оценивает каждое слово в тексте, присваивая ему вероятность достоверности
- Поддерживает два режима работы:
  - Графический интерфейс (GUI) для удобного просмотра результатов по каждому источнику
  - Консольный режим с цветовой маркировкой текста
- Визуализирует результаты с помощью цветовой маркировки:
  - Зеленый: высокая вероятность достоверности (>0.7)
  - Желтый: средняя вероятность достоверности (0.35-0.7)
  - Красный: низкая вероятность достоверности (<0.35)

## Скриншоты

![Screenshot 2025-05-05 011844](https://github.com/user-attachments/assets/01d2e2ef-f936-4289-a307-24830a4c11b9)
![Screenshot 2025-05-05 011837](https://github.com/user-attachments/assets/1aa4ad4b-e94b-4539-abc2-53046c37df9b)
![Screenshot 2025-05-05 012042](https://github.com/user-attachments/assets/409efcd9-1353-4823-9761-be0a8956652f)

## Требования

- Python 3.6+
- Доступ к API OpenAI (ключ API)
- Установленные библиотеки (см. раздел "Установка")

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/grebenkov/WikiFactCheck.git
cd WikiFactCheck
```

2. Установите необходимые зависимости:
```bash
pip install openai colorama tkinter
```

3. Установите ключ API OpenAI в переменную окружения:
```bash
export OPENAI_API_KEY="ваш-ключ-api"
```

## Использование

1. Создайте файл `article.txt` с текстом статьи, которую нужно проверить.

2. Создайте один или несколько файлов источников с именами вида `source1.txt`, `source2.txt` и т.д.

3. Запустите программу:

Для запуска с графическим интерфейсом:
```bash
python wikifactcheck.py --gui
```

Для запуска в консольном режиме:
```bash
python wikifactcheck.py
```

### Дополнительные параметры

- `--gui` - Запуск в режиме графического интерфейса
- `--base_url` - Базовый URL для API OpenAI (если вы используете прокси или частное развертывание)
- `--model` - Название модели OpenAI для использования (по умолчанию: gpt-4.1-nano)

Пример:
```bash
python wikifactcheck.py --gui --model gpt-4o
```

## Принцип работы

1. Программа загружает текст статьи и все доступные источники.
2. Разбивает статью на блоки примерно по 100 слов, сохраняя целостность предложений.
3. Для каждого блока и каждого источника:
   - Отправляет запрос к API OpenAI для анализа соответствия
   - Получает вероятности достоверности для каждого слова
4. В GUI-режиме позволяет просматривать результаты отдельно для каждого источника
5. В консольном режиме объединяет результаты всех источников
6. Визуализирует текст с цветовой маркировкой на основе полученных вероятностей

## Ограничения

- Качество проверки зависит от используемой модели OpenAI
- Для больших текстов может потребоваться значительное количество запросов к API
- Программа не учитывает контекст за пределами анализируемого блока

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Если у вас есть идеи по улучшению WikiFactCheck, пожалуйста, создайте issue или отправьте pull request.

## Лицензия

BSD 3-clause
