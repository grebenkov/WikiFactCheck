# WikiFactCheck

## Описание проекта

WikiFactCheck - это инструмент для автоматической проверки достоверности информации в текстах статей на основе исходных источников. Программа использует модели OpenAI для анализа текста и определения вероятности соответствия каждого слова в статье предоставленным источникам информации.

## Функциональность

- Разбивает статью на смысловые блоки для более эффективного анализа
- Проверяет каждый блок текста на соответствие всем доступным источникам
- Оценивает каждое слово в тексте, присваивая ему вероятность достоверности
- Визуализирует результаты с помощью цветовой маркировки:
  - Зеленый: высокая вероятность достоверности (>0.7)
  - Желтый: средняя вероятность достоверности (0.35-0.7)
  - Красный: низкая вероятность достоверности (<0.35)

## Требования

- Python 3.6+
- Доступ к API OpenAI (ключ API)
- Установленные библиотеки (см. раздел "Установка")

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/grebenkov/WikiFactCheck.git
cd WikiFactCheck
```

2. Установите необходимые зависимости:
```bash
pip install openai colorama
```

3. Установите ключ API OpenAI в переменную окружения:
```bash
export OPENAI_API_KEY="ваш-ключ-api"
```

## Использование

1. Создайте файл `article.txt` с текстом статьи, которую нужно проверить.

2. Создайте один или несколько файлов источников с именами вида `source1.txt`, `source2.txt` и т.д.

3. Запустите программу:
```bash
python wikifactcheck.py
```

### Дополнительные параметры

- `--base_url` - Базовый URL для API OpenAI (если вы используете прокси или частное развертывание)
- `--model` - Название модели OpenAI для использования (по умолчанию: gpt-4.1-nano)

Пример:
```bash
python wikifactcheck.py --model gpt-4o
```

## Принцип работы

1. Программа загружает текст статьи и все доступные источники.
2. Разбивает статью на блоки примерно по 100 слов, сохраняя целостность предложений.
3. Для каждого блока и каждого источника:
   - Отправляет запрос к API OpenAI для анализа соответствия
   - Получает вероятности достоверности для каждого слова
4. Объединяет результаты для всех блоков и источников
5. Визуализирует текст с цветовой маркировкой на основе полученных вероятностей

## Ограничения

- Качество проверки зависит от используемой модели OpenAI
- Для больших текстов может потребоваться значительное количество запросов к API
- Программа не учитывает контекст за пределами анализируемого блока

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Если у вас есть идеи по улучшению WikiFactCheck, пожалуйста, создайте issue или отправьте pull request.

## Лицензия

BSD 3-clause